package com.comviva.mfs.repository.test; 

import static org.hamcrest.CoreMatchers.is;
import static org.junit.Assert.assertThat;
import static org.mockito.Mockito.when; 

import java.util.Optional;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.mockito.junit.MockitoJUnitRunner; 

import com.comviva.mfs.entity.GroupRoles;
import com.comviva.mfs.repository.GroupRolesRepository; 

@RunWith(MockitoJUnitRunner.class)
public class GroupRoleRespositoryTest { 

       @Mock
       private GroupRolesRepository groupRolesRepository;
 

       @Test
       public void getGroupRoleByIdTest() {
              GroupRoles exceptedGroupRoles = getGroupRoles();
              when(groupRolesRepository.findById(Mockito.anyString())).thenReturn(Optional.of(getGroupRoles()));
              GroupRoles groupRoles = groupRolesRepository.findById("1").get();
              assertThat(groupRoles.getGroupRoleCode(), is(exceptedGroupRoles.getGroupRoleCode()));
              assertThat(groupRoles.getGroupRoleId(), is(exceptedGroupRoles.getGroupRoleId()));
              assertThat(groupRoles.getRoleCode(), is(exceptedGroupRoles.getRoleCode()));

       }
 

       private GroupRoles getGroupRoles() {
              GroupRoles groupRole = new GroupRoles();
              groupRole.setGroupRoleCode("ADD_INIT");
              groupRole.setGroupRoleId("1");
              groupRole.setRoleCode("ADD");
              return groupRole;
       } 

}
